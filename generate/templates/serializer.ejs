import { BaseSerializer } from "./base.serializer";
<% foreignKeys.forEach(e => { %>
  import { <%- capitalizeEntity(foreignKey.REFERENCED_TABLE_NAME) %>Serializer } from "./<%- lowercaseEntity(foreignKey.REFERENCED_TABLE_NAME) %>.serializer"
<% }); %>

export class <%- entityCapitalize %>Serializer extends BaseSerializer {

  public static withelist : Array<String> = [<%- entityColumns %>];

  constructor() {
    super('<%- entityLowercase %>s', {
        id : 'id',
        attributes : <%- entityCapitalize %>Serializer.withelist
        <% foreignKeys.forEach(e => { %>
           <%- foreignKey.REFERENCED_COLUMN_NAME %> : {
             ref : 'id',
             attributes : <%- capitalizeEntity(foreignKey.REFERENCED_TABLE_NAME) %>.withelist
           }
        <% }); %>
    });
  }

}
